<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro VA Manager - Multi-Agency System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #3B82F6;
            --success: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
            --dark: #1F2937;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8fafc;
            color: var(--dark);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: flex;
            justify-content: between;
            align-items: center;
        }
        
        .motivation-widget {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: #10B981;
            transition: width 0.5s ease;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .stat-card h3 {
            font-size: 14px;
            color: #6B7280;
            margin-bottom: 10px;
        }
        
        .stat-card span {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
        }
        
        .section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .agency-card {
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            background: #F9FAFB;
        }
        
        .account-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #E5E7EB;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
        }
        
        .form-group {
            margin: 15px 0;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
        }
        
        .daily-goal {
            background: linear-gradient(135deg, #F59E0B, #D97706);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Pro VA Manager</h1>
            <div>
                <span id="userInfo">Welcome, Professional VA!</span>
                <button class="btn" onclick="showSettings()">Settings</button>
            </div>
        </header>

        <!-- Motivation & Earnings Tracker -->
        <div class="motivation-widget">
            <h2>üéØ Weekly Target: $100</h2>
            <div class="progress-bar">
                <div id="targetProgress" class="progress-fill" style="width: 0%"></div>
            </div>
            <div style="display: flex; justify-content: space-between;">
                <span>Earned: $<span id="earnedSoFar">0</span> / $100</span>
                <span id="daysLeft">7 days left</span>
            </div>
            <p id="motivationMessage" style="margin-top: 15px; font-size: 18px;">üí™ Let's make today productive!</p>
        </div>

        <!-- Daily Goal -->
        <div class="daily-goal">
            <h3>üìÖ Today's Goal</h3>
            <p>Work on <strong>15 accounts</strong> across <strong>5 agencies</strong></p>
            <div class="progress-bar">
                <div id="dailyProgress" class="progress-fill" style="width: 0%; background: white;"></div>
            </div>
            <p>Completed: <span id="completedToday">0</span>/15 accounts</p>
        </div>

        <!-- Quick Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <h3>üè¢ Agencies</h3>
                <span id="agencyCount">0</span>
            </div>
            <div class="stat-card">
                <h3>üë• Active Accounts</h3>
                <span id="accountCount">0</span>
            </div>
            <div class="stat-card">
                <h3>üí∞ This Week</h3>
                <span id="weeklyEarnings">$0</span>
            </div>
            <div class="stat-card">
                <h3>üìà Daily Average</h3>
                <span id="dailyAverage">$0</span>
            </div>
        </div>

        <!-- Agency Management -->
        <div class="section">
            <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 20px;">
                <h2>üè¢ Agency Management</h2>
                <button class="btn" onclick="showAgencyForm()">+ Add Agency</button>
            </div>
            <div id="agenciesList">
                <p>No agencies added yet. Add your first agency to get started!</p>
            </div>
        </div>

        <!-- Daily Work Log -->
        <div class="section">
            <h2>üìù Daily Work Log</h2>
            <div class="form-group">
                <label>Accounts Worked Today:</label>
                <input type="number" id="accountsWorked" min="0" max="15" value="0">
            </div>
            <div class="form-group">
                <label>Views Gained:</label>
                <input type="number" id="viewsGained" min="0" value="0">
            </div>
            <div class="form-group">
                <label>Earnings Today ($):</label>
                <input type="number" id="earningsToday" min="0" step="0.01" value="0">
            </div>
            <button class="btn btn-success" onclick="logDailyWork()">üíæ Save Daily Progress</button>
        </div>

        <!-- Performance Chart -->
        <div class="section">
            <h2>üìà Weekly Performance</h2>
            <canvas id="earningsChart" height="100"></canvas>
        </div>

        <!-- Quick Calculator -->
        <div class="section">
            <h2>üßÆ Earnings Calculator</h2>
            <div class="form-group">
                <label>Total Views Across All Accounts:</label>
                <input type="number" id="totalViewsInput" min="0" value="0" oninput="calculateEarnings()">
            </div>
            <div class="stat-card">
                <h3>Estimated Earnings</h3>
                <span id="calculatedEarnings">$0.00</span>
                <p style="font-size: 12px; margin-top: 5px;">Rate: $5 per 1,000 views</p>
            </div>
        </div>
    </div>

    <!-- Agency Form Modal -->
    <div id="agencyModal" class="modal">
        <div class="modal-content">
            <h3>Add New Agency</h3>
            <div class="form-group">
                <label>Agency Name:</label>
                <input type="text" id="agencyName" placeholder="e.g., Threads Agency Pro">
            </div>
            <div class="form-group">
                <label>Payment Rate ($ per 1K views):</label>
                <input type="number" id="paymentRate" value="5" step="0.01">
            </div>
            <div class="form-group">
                <label>Contact Info:</label>
                <input type="text" id="agencyContact" placeholder="Telegram/Email">
            </div>
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn" onclick="saveAgency()">üíæ Save Agency</button>
                <button class="btn" style="background: #6B7280;" onclick="hideModal('agencyModal')">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Pro VA Manager Class
        class ProVAManager {
            constructor() {
                this.agencies = JSON.parse(localStorage.getItem('va_agencies')) || [];
                this.dailyLogs = JSON.parse(localStorage.getItem('va_daily_logs')) || [];
                this.settings = JSON.parse(localStorage.getItem('va_settings')) || {
                    weeklyTarget: 100,
                    dailyAccountGoal: 15
                };
                this.init();
            }

            init() {
                this.loadDashboard();
                this.setupMotivationSystem();
                this.setupChart();
                setInterval(() => this.updateMotivation(), 60000); // Update every minute
            }

            loadDashboard() {
                this.updateStats();
                this.renderAgencies();
                this.updateProgressBars();
            }

            updateStats() {
                const weeklyEarnings = this.getWeeklyEarnings();
                const activeAccounts = this.agencies.reduce((total, agency) => 
                    total + agency.accounts.filter(acc => acc.status === 'active').length, 0);
                
                document.getElementById('agencyCount').textContent = this.agencies.length;
                document.getElementById('accountCount').textContent = activeAccounts;
                document.getElementById('weeklyEarnings').textContent = `$${weeklyEarnings}`;
                document.getElementById('earnedSoFar').textContent = weeklyEarnings;
                
                const dailyAvg = weeklyEarnings / 7;
                document.getElementById('dailyAverage').textContent = `$${dailyAvg.toFixed(2)}`;
            }

            getWeeklyEarnings() {
                const oneWeekAgo = new Date();
                oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);
                
                return this.dailyLogs
                    .filter(log => new Date(log.date) >= oneWeekAgo)
                    .reduce((total, log) => total + (log.earnings || 0), 0);
            }

            updateProgressBars() {
                const weeklyEarnings = this.getWeeklyEarnings();
                const progress = Math.min((weeklyEarnings / this.settings.weeklyTarget) * 100, 100);
                
                document.getElementById('targetProgress').style.width = progress + '%';
                
                // Update days left
                const today = new Date();
                const daysLeft = 7 - today.getDay();
                document.getElementById('daysLeft').textContent = `${daysLeft} days left`;
                
                // Update motivation message based on progress
                this.updateMotivationMessage(progress);
            }

            updateMotivationMessage(progress) {
                const messages = {
                    0: "üöÄ Let's start strong! First $100 is waiting!",
                    25: "üí™ Good start! Keep the momentum going!",
                    50: "üî• Halfway there! You're doing amazing!",
                    75: "üéâ Almost at your goal! One final push!",
                    100: "üèÜ Target achieved! You're a star! ‚≠ê"
                };
                
                let appropriateMessage = "üí™ Consistency is key! Keep going!";
                for (const [threshold, message] of Object.entries(messages)) {
                    if (progress >= parseInt(threshold)) {
                        appropriateMessage = message;
                    }
                }
                
                document.getElementById('motivationMessage').textContent = appropriateMessage;
            }

            setupMotivationSystem() {
                // Change motivation message every 2 hours
                setInterval(() => {
                    const messages = [
                        "üöÄ 15 accounts = $75 daily potential!",
                        "üíµ Every post brings you closer to financial freedom!",
                        "üî• You're building multiple income streams!",
                        "üéØ Consistency turns small efforts into big results!",
                        "‚ö° Remember: 1K views = $5 per account!",
                        "üí∞ $100/week = $5,200/year extra income!"
                    ];
                    
                    const randomMsg = messages[Math.floor(Math.random() * messages.length)];
                    if (Math.random() > 0.7) { // 30% chance to change
                        document.getElementById('motivationMessage').textContent = randomMsg;
                    }
                }, 7200000); // 2 hours
            }

            renderAgencies() {
                const container = document.getElementById('agenciesList');
                
                if (this.agencies.length === 0) {
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #6B7280;">
                            <h3>No agencies yet</h3>
                            <p>Add your first agency to start tracking</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = this.agencies.map((agency, index) => `
                    <div class="agency-card">
                        <div style="display: flex; justify-content: between; align-items: center;">
                            <h3>${agency.name}</h3>
                            <div>
                                <button class="btn" onclick="addAccountToAgency(${index})">+ Account</button>
                                <button class="btn" style="background: var(--warning);" onclick="editAgency(${index})">Edit</button>
                                <button class="btn" style="background: var(--danger);" onclick="deleteAgency(${index})">Delete</button>
                            </div>
                        </div>
                        <p>Rate: $${agency.paymentRate} per 1K views | Contact: ${agency.contact}</p>
                        
                        <div style="margin-top: 15px;">
                            <h4>Accounts (${agency.accounts.length}):</h4>
                            ${agency.accounts.map(account => `
                                <div class="account-item">
                                    <span>@${account.username} - ${account.method}</span>
                                    <span style="color: ${account.status === 'active' ? 'green' : 'red'}">
                                        ${account.status} | ${account.views || 0} views
                                    </span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
            }

            addAgency(agencyData) {
                const newAgency = {
                    ...agencyData,
                    accounts: [],
                    createdAt: new Date().toISOString()
                };
                this.agencies.push(newAgency);
                this.saveData();
                this.loadDashboard();
            }

            logDailyWork(workData) {
                const today = new Date().toDateString();
                const existingLog = this.dailyLogs.find(log => log.date === today);
                
                if (existingLog) {
                    Object.assign(existingLog, workData);
                } else {
                    this.dailyLogs.push({
                        date: today,
                        ...workData
                    });
                }
                
                this.saveData();
                this.loadDashboard();
                this.updateDailyProgress(workData.accountsWorked);
            }

            updateDailyProgress(accountsWorked) {
                const progress = Math.min((accountsWorked / this.settings.dailyAccountGoal) * 100, 100);
                document.getElementById('dailyProgress').style.width = progress + '%';
                document.getElementById('completedToday').textContent = accountsWorked;
            }

            setupChart() {
                const ctx = document.getElementById('earningsChart').getContext('2d');
                const weeklyData = this.getLast7DaysEarnings();
                
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: weeklyData.dates,
                        datasets: [{
                            label: 'Daily Earnings ($)',
                            data: weeklyData.earnings,
                            borderColor: '#3B82F6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Last 7 Days Performance'
                            }
                        }
                    }
                });
            }

            getLast7DaysEarnings() {
                const dates = [];
                const earnings = [];
                
                for (let i = 6; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    const dateStr = date.toDateString();
                    
                    const log = this.dailyLogs.find(l => l.date === dateStr);
                    dates.push(dateStr.slice(0, 3)); // Mon, Tue, etc.
                    earnings.push(log ? log.earnings : 0);
                }
                
                return { dates, earnings };
            }

            saveData() {
                localStorage.setItem('va_agencies', JSON.stringify(this.agencies));
                localStorage.setItem('va_daily_logs', JSON.stringify(this.dailyLogs));
                localStorage.setItem('va_settings', JSON.stringify(this.settings));
            }
        }

        // Global functions for HTML buttons
        let vaManager;

        function showAgencyForm() {
            document.getElementById('agencyModal').style.display = 'flex';
        }

        function hideModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function saveAgency() {
            const name = document.getElementById('agencyName').value;
            const rate = parseFloat(document.getElementById('paymentRate').value);
            const contact = document.getElementById('agencyContact').value;
            
            if (!name) {
                alert('Please enter agency name');
                return;
            }
            
            vaManager.addAgency({
                name,
                paymentRate: rate,
                contact
            });
            
            hideModal('agencyModal');
            // Clear form
            document.getElementById('agencyName').value = '';
            document.getElementById('agencyContact').value = '';
        }

        function logDailyWork() {
            const accountsWorked = parseInt(document.getElementById('accountsWorked').value) || 0;
            const viewsGained = parseInt(document.getElementById('viewsGained').value) || 0;
            const earnings = parseFloat(document.getElementById('earningsToday').value) || 0;
            
            vaManager.logDailyWork({
                accountsWorked,
                viewsGained,
                earnings
            });
            
            alert('Daily work logged successfully! üéâ');
        }

        function calculateEarnings() {
            const views = parseInt(document.getElementById('totalViewsInput').value) || 0;
            const earnings = (views / 1000) * 5; // $5 per 1000 views
            document.getElementById('calculatedEarnings').textContent = `$${earnings.toFixed(2)}`;
        }

        function addAccountToAgency(agencyIndex) {
            const username = prompt('Enter account username:');
            const method = prompt('Enter method (spam/3text-1pic):');
            
            if (username && method) {
                vaManager.agencies[agencyIndex].accounts.push({
                    username,
                    method,
                    status: 'active',
                    views: 0,
                    createdAt: new Date().toISOString()
                });
                vaManager.saveData();
                vaManager.loadDashboard();
            }
        }

        function deleteAgency(agencyIndex) {
            if (confirm('Are you sure you want to delete this agency?')) {
                vaManager.agencies.splice(agencyIndex, 1);
                vaManager.saveData();
                vaManager.loadDashboard();
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            vaManager = new ProVAManager();
        });
    </script>
</body>
</html>